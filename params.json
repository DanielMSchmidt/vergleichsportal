{"name":"Vergleichsportal","tagline":"","body":"Volkers Verrücktes Vergleichsportal Server + Webseite\r\n=====================================================\r\n\r\nDiese Software entsteht im Zuge des Softwareprojekts der CAU Kiel. Es wird ein Vergleichsportal für Bücher, CDs, DVDs und eBooks entwickelt, welches es ermöglicht Preise von verschiedenen Anbietern zu vergleichen.\r\n\r\n\r\nGetting Started:\r\n================\r\n\r\nYou need to have rvm installed to run this project and [Redis](http://redis.io/topics/quickstart) must be installed.\r\nIf you haven't installed ruby 1.9.3 yet, do\r\n\r\n     $ rvm install ruby-1.9.3\r\n\r\nand get a coffee, this one will take a while.\r\n\r\n     $ rvm use ruby 1.9.3\r\n     $ bundle install\r\n     $ cp .env.sample .env\r\n     $ vim .env\r\n     $ cp config/database.yml.example config/database.yml\r\n     $ vim config/database.yml\r\n     $ gem install mailcatcher\r\n     $ mailcatcher\r\n     $ bundle exec foreman start\r\n\r\nAPI\r\n===\r\n\r\nAll routes should be understood as RESTful routes & your response is allways in JSON:\r\n\r\n![](http://www.wobblini.net/images/routes.png \"REST\")\r\n\r\nAdditionally you will get meaningful [http status codes](http://suso.suso.org/docs/infosheets/HTTP_status_codes.gif) back! Errors will be rendered in JSON.\r\n\r\n/api\r\n-----\r\n\r\nThe root is for searching and it only takes GET-Requests. The pattern is like this:\r\n\r\n    {\r\n      \"isbn\": \"978-3453146976\"\r\n    }\r\n\r\nor\r\n\r\n    {\r\n      \"text\": \"Per Anhalter durch die Galaxis! DVD\"\r\n    }\r\n\r\nor more advanced (price doesn't need to have \"from\" or \"to\")\r\n\r\n    [\r\n      {\r\n        \"text\": \"Per Anhalter durch die Galaxis!\"\r\n      },\r\n      {\r\n        \"author\": \"Garth Jennings\"\r\n      },\r\n      {\r\n        \"category\": \"DVD\"\r\n      },\r\n      {\r\n        \"price\": {\r\n          \"from\": 0,\r\n          \"to\": 40\r\n        }\r\n      }\r\n    ]\r\n\r\nAnd you will get the item back like this:\r\n\r\n    {\r\n      \"id\": 4,\r\n      \"type\": \"Disk\",\r\n      \"identifier\": \"978-3453146976\",\r\n      \"price\": [\r\n        {\r\n          \"provider\": \"ebay\",\r\n          \"price\": \"12.5\"\r\n        },\r\n        {\r\n          \"provider\": \"buecher.de\",\r\n          \"price\": \"13.7\"\r\n        }\r\n      ],\r\n      \"desc\": \"Lorem ipsum...\",\r\n      \"images\": [\r\n        \"image_1\": \"www.placehold.it/test1.png\",\r\n        \"image_2\": \"www.placehold.it/test2.png\"\r\n      ]\r\n    }\r\n\r\n/api/users\r\n------\r\n\r\n  - GET\r\n\r\n    Send a GET-Request with header\r\n\r\n        {\r\n          \"authentication\":\r\n          {\r\n            \"username\": \"valid-user\",\r\n            \"password\": \"valid-password\"\r\n          }\r\n        }\r\n\r\n    and you will get a 202 status code. <br>\r\n    If you send an invalid user password combination or no authentication string you will get an 406 error code.\r\n\r\n\r\n  - POST\r\n\r\n    Send a POST-Request with body\r\n\r\n        {\r\n            \"username\": \"valid-user\",\r\n            \"password\": \"valid-password\"\r\n        }\r\n\r\n    you will get a 201 status code if the user is created.\r\n\r\n    If the user already exists or the password is too short / long you will get a 406 status code with the header <br>\r\n\r\n        {\r\n          \"errors\": [\r\n            {\r\n              \"username\": \"This username already exists\"\r\n            },\r\n            {\r\n              \"password\": \"This password is too short\"\r\n            }\r\n          ]\r\n        }\r\n\r\n\r\n  - PUT\r\n\r\n    Send a PUT-Request with the header <br>\r\n\r\n        {\r\n          \"authentication\":\r\n          {\r\n            \"username\": \"valid-user\",\r\n            \"password\": \"valid-password\"\r\n          }\r\n        }\r\n\r\n    and the body like this (with only the changed attribute)\r\n\r\n        {\r\n          \"username\": \"new-valid-user\"\r\n        }\r\n\r\n    you will get a 202 status code, if the authentication goes wrong a 401 as always and if the username is taken or the password is too short / long you will get the same respnose like in the POST-Request\r\n\r\n  - DELETE\r\n\r\n    Send a DELETE-Request with the header\r\n\r\n        {\r\n          \"authentication\":\r\n          {\r\n            \"username\": \"valid-user\",\r\n            \"password\": \"valid-password\"\r\n          }\r\n        }\r\n\r\n    and you will get a 202 status code if the user was found. If it wasn't found (e.g. 2 parallel requests for the same user) you will get a 410 status code\r\n\r\n\r\n**** NOTE: Please note, that the articles are returned as shown in the root route ****\r\n\r\n/api/carts\r\n------\r\n\r\n  - GET\r\n\r\n    Send a GET-Request with header\r\n\r\n        {\r\n          \"authentication\":\r\n          {\r\n            \"username\": \"valid-user\",\r\n            \"password\": \"valid-password\"\r\n          }\r\n        }\r\n\r\n    and you will get a 200 status code, the body will look like this:\r\n\r\n        [\r\n          {\r\n            \"id\": 12,\r\n            \"items\": [\r\n              {\r\n                \"id\": 4,\r\n                \"type\": \"Disk\",\r\n                \"identifier\": \"978-3453146976\",\r\n                \"price\": [\r\n                  {\r\n                    \"provider\": \"ebay\",\r\n                    \"price\": 12.5\r\n                  },\r\n                  {\r\n                    \"provider\": \"buecher.de\",\r\n                    \"price\": 13.7\r\n                  }\r\n                ]\r\n              },\r\n              {\r\n                \"id\": 9,\r\n                \"type\": \"Book\",\r\n                \"identifier\": \"978-3446237360\",\r\n                \"price\": [\r\n                  {\r\n                    \"provider\": \"ebay\",\r\n                    \"price\": 32.5\r\n                  }\r\n                ]\r\n              }\r\n            ],\r\n            \"total\": [\r\n              {\r\n                \"ebay\": 50\r\n              }\r\n            ]\r\n          },\r\n          {\r\n            \"id\": 42,\r\n            \"items\": [\r\n              {\r\n                \"id\": 1,\r\n                \"type\": \"E-Book\",\r\n                \"identifier\": \"978-3453446976\",\r\n                \"price\": [\r\n                  {\r\n                    \"provider\": \"ebay\",\r\n                    \"price\": 12.5\r\n                  },\r\n                  {\r\n                    \"provider\": \"buecher.de\",\r\n                    \"price\": 13.7\r\n                  }\r\n                ]\r\n              },\r\n              {\r\n                \"id\": 2,\r\n                \"type\": \"Book\",\r\n                \"identifier\": \"978-3455237360\",\r\n                \"price\": [\r\n                  {\r\n                    \"provider\": \"ebay\",\r\n                    \"price\": 322.5\r\n                  } ,\r\n                  {\r\n                    \"provider\": \"buecher.de\",\r\n                    \"price\": 123.7\r\n                  }\r\n                ]\r\n              }\r\n            ],\r\n            \"total\": [\r\n              {\r\n                \"ebay\": 500\r\n              },\r\n              {\r\n                \"buecher.de\": 600\r\n              }\r\n            ]\r\n          }\r\n        ]\r\n\r\n    If you send an invalid user password combination you will get an 401 error code.\r\n\r\n    In the array of cart you will get their unique identifier, a list of their items (with ids and prices at providers which have them) and the total amount (only by the providers which have all the searched products)\r\n\r\n\r\n  - POST\r\n\r\n    Send a POST-Request with header\r\n\r\n        {\r\n          \"authentication\":\r\n          {\r\n            \"username\": \"valid-user\",\r\n            \"password\": \"valid-password\"\r\n          }\r\n        }\r\n\r\n    you will get a 201 status code if the cart is created and you will get the empty cart:\r\n\r\n        {\r\n          \"id\": 1337,\r\n          \"items\": [],\r\n          \"total\": []\r\n        }\r\n\r\n  - PUT\r\n\r\n    Send a PUT-Request with the header <br>\r\n\r\n        {\r\n          \"authentication\":\r\n          {\r\n            \"username\": \"valid-user\",\r\n            \"password\": \"valid-password\"\r\n          }\r\n        }\r\n\r\n     and the body like this:\r\n\r\n        {\r\n          \"item_id\": 137\r\n        }\r\n\r\n    you will get a 202 status code and the new cart and if the authenticationentication goes wrong a 401 as always.\r\n\r\n  - DELETE\r\n\r\n    Send a DELETE-Request with the header\r\n\r\n        {\r\n          \"authentication\":\r\n          {\r\n            \"username\": \"valid-user\",\r\n            \"password\": \"valid-password\"\r\n          },\r\n          \"id\": 34\r\n        }\r\n\r\n    and you will get a 202 status code if the cart was found. If it wasn't found you will get a 404 status code.\r\n\r\n\r\n/api/providers\r\n----------\r\n\r\n - GET\r\n\r\n     Send a GET-Request with header\r\n\r\n         {\r\n           \"authentication\":\r\n           {\r\n             \"username\": \"valid-user\",\r\n             \"password\": \"valid-password\"\r\n           }\r\n         }\r\n\r\n     and you will get a 202 status code and a body like this:\r\n\r\n         [\r\n           {\r\n             \"ebay\": {\r\n               \"activity\" : \"active\",\r\n               \"url\" : \"www.ebay.de\"\r\n             }\r\n           },\r\n           {\r\n             \"Buch.de\": {\r\n               \"activity\" : \"inactive\",\r\n               \"url\" : \"www.buch.de\"\r\n             }\r\n           }\r\n         ]\r\n\r\n\r\n - POST\r\n\r\n     Send a POST-Request and you will get a 400 status code\r\n\r\n\r\n - PUT\r\n\r\n     Send a PUT-Request with the header\r\n\r\n         {\r\n           \"authentication\":\r\n           {\r\n             \"username\": \"valid-user\",\r\n             \"password\": \"valid-password\"\r\n           }\r\n         }\r\n\r\n     and the body (the rating in percentage)\r\n\r\n         {\r\n           \"comment\": \"Ich fand e-Bay klasse!\",\r\n           \"rating\": 99\r\n         }\r\n\r\n     you will get a 202 status code as the comment and / or rating is created and if the authentication goes wrong a 401 as always\r\n\r\n - DELETE\r\n\r\n    Send a DELETE-Request and you will get a 400 status code","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}